# スプリント管理

> 現在のスプリントのタスクと優先順位を管理するファイルです。
> 担当エージェントは作業開始前にこのファイルを確認し、完了後に更新してください。

---

## 現在のスプリント：Sprint 2（2026-02 〜）

### ゴール
MVP の品質を高め、**初期ユーザーが継続して使えるプロダクト**にする。
具体的には「カードを作った後に詰まる場所をなくす」（編集・修正フロー）と「学習継続を支援する機能」。

---

## バックログ（優先度順）

### 🔴 高優先度（このスプリントで対応）

#### [CARD-EDIT] カード編集画面
- **パス**: `/decks/[id]/cards/[cardId]/edit`
- **要件**:
  - 既存カードの word / reading / meaning / part_of_speech / level を編集
  - 例文の再生成ボタン（Claude API 呼び出し）
  - 保存後は `/decks/[id]` に戻る
- **担当**: Tech Lead（バックエンド） + UI 実装（フォームUI）
- **依存**: なし
- **ステータス**: ❌ 未着手

#### [DECK-EDIT] デッキ編集画面
- **パス**: `/decks/[id]/edit`
- **要件**:
  - name / description / is_public / accent を編集
  - language は変更不可（カードとの整合性が取れなくなるため）
  - 保存後は `/decks/[id]` に戻る
- **担当**: Tech Lead + UI 実装
- **依存**: なし
- **ステータス**: ❌ 未着手

### 🟡 中優先度（次スプリント候補）

#### [AUTH-RESET] パスワードリセット
- **パス**: `/auth/reset-password`
- **要件**:
  - メールアドレスを入力 → Supabase の `resetPasswordForEmail` を呼ぶ
  - リセットリンク経由で新パスワードを設定
- **担当**: Tech Lead
- **依存**: なし
- **ステータス**: ❌ 未着手

#### [STUDY-TIME] 学習時間トラッキング
- **DB 変更**: `study_logs.duration` カラム（int, 秒単位）を追加
- **要件**:
  - StudyClient でカードを表示してから評価ボタンを押すまでの秒数を記録
  - ダッシュボードの統計に「今週の学習時間」を追加
- **担当**: Tech Lead（DB + Server Action） + UI 実装（ダッシュボード表示）
- **依存**: なし
- **ステータス**: ❌ 未着手

### 🟢 低優先度（将来のスプリント）

#### [ANALYTICS] 学習分析ページ
- **パス**: `/analytics`（新規）
- **要件**:
  - 7日間・30日間の正答率グラフ
  - デッキ別習得率
  - ストリークカレンダー
- **担当**: UI 実装 + UX
- **依存**: STUDY-TIME（学習時間があると良い）
- **ステータス**: ❌ 未着手

#### [NOTIFICATION] 学習リマインダー
- **要件**:
  - due カードがある場合にプッシュ通知 or メール通知
  - Supabase Edge Functions で定期実行
- **担当**: Tech Lead
- **依存**: なし（独立して実装可能）
- **ステータス**: ❌ 未着手

#### [DECK-SHARE] デッキ共有・インポート
- **要件**:
  - `is_public` デッキを他ユーザーが閲覧・コピーできる
  - 現状 `/decks` で公開デッキは表示されているが、コピー機能なし
- **担当**: Tech Lead + Product
- **依存**: なし
- **ステータス**: ❌ 未着手

#### [CARDS-REORDER] カード並び替え
- **要件**: デッキ詳細でカードを手動で並び替え（drag & drop）
- **担当**: UI 実装
- **依存**: `cards.order` カラム追加（DB変更）
- **ステータス**: ❌ 未着手

---

## 完了済み（Sprint 1）

| タスク | 完了日 | 担当 |
|---|---|---|
| Supabase 初期設定（全テーブル・RLS） | 2026-02 | Tech Lead |
| 認証（メール/パスワード + Google OAuth） | 2026-02 | Tech Lead |
| ランディングページ | 2026-02 | UI 実装 |
| ダッシュボード（ストリーク・統計・復習CTA） | 2026-02 | UI 実装 |
| デッキ一覧（ソート機能付き） | 2026-02 | UI 実装 |
| デッキ詳細（カード一覧・モーダル・削除） | 2026-02 | Tech Lead + UI 実装 |
| カード作成（Claude API 例文自動生成） | 2026-02 | Tech Lead |
| 復習画面（フラッシュカード + 穴埋め・SM-2） | 2026-02 | Tech Lead + UI 実装 |
| 全デッキ一括復習（`/study`） | 2026-02 | Tech Lead |
| アクセント設定（デッキ作成・Web Speech API） | 2026-02 | Tech Lead |
| デザインシステム構築（CSS変数・Lucide） | 2026-02 | UI 実装 |
| SEO（sitemap・OGP メタデータ） | 2026-02 | Tech Lead |
| セキュリティ強化（所有権確認・RLS最適化） | 2026-02 | Tech Lead |
| パフォーマンス最適化（N+1排除・インデックス） | 2026-02 | Tech Lead |

---

## スプリント更新ルール

1. タスクに着手したら `❌ 未着手` → `🔄 進行中` に変更
2. 完了したら `🔄 進行中` → `✅ 完了` に変更し、完了済みテーブルに移動
3. 新しいタスクが発生したら適切な優先度セクションに追加
4. スプリント終了時に `docs/decisions.md` に主要な決定事項を追記
