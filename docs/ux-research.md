# UX リサーチ

> NeoVocab のユーザー体験設計に関する調査・分析・方針をまとめるファイルです。
> UX 担当エージェントが作業前に確認し、新しい知見を追記してください。

---

## プロダクト概要（UX 視点）

**NeoVocab** は語学学習者が毎日継続して使うフラッシュカードアプリ。
核心価値は「**単語を登録するだけで AI が学習セットを作り、SM-2 で最適なタイミングに復習を促す**」こと。

### ユーザーの主な Jobs To Be Done（JTBD）

| JTBD | 現在の対応状況 |
|---|---|
| 新しい単語を素早く登録したい | ✅ カード作成（Claude API で例文自動生成） |
| 効率的に復習したい（時間を無駄にしたくない） | ✅ SM-2 アルゴリズム + due カードのみ表示 |
| 今日何をすべきか瞬時に分かりたい | ✅ ダッシュボードのCTA（「今すぐ復習を始める」） |
| 学習の進捗を確認したい | 🟡 統計2枠のみ（詳細グラフは未実装） |
| モチベーションを維持したい | ✅ ストリーク表示 |
| 移動中などスキマ時間に使いたい | 🟡 レスポンシブ対応済みだが最適化余地あり |

---

## ユーザーフロー分析

### 初回利用フロー
```
ランディング → 新規登録 → ダッシュボード（空状態）
→ 「最初のデッキを作る」 → デッキ作成
→ カード作成（例文自動生成を体験）
→ 復習開始（最初は即復習可能）
→ ダッシュボード戻り（ストリーク 1日目）
```

**現状の問題点**:
- 空状態のダッシュボードで「最初のデッキを作る」ボタンまで3スクロール必要（統計セクションが先に来る）
- 初回カード作成後、「復習する」ボタンの場所が分かりにくい（デッキ詳細ページにある）

### 日常利用フロー（リテンション後）
```
ダッシュボード → 「今すぐ復習を始める」 → 復習セッション
→ 完了 → ダッシュボード戻り
```

**現状の評価**: ✅ 良好。3クリック以内で復習完了できる。

### カード追加フロー
```
デッキ一覧 → デッキ選択 → 「カードを追加」 → カード作成フォーム
→ 単語入力 → 例文生成（ローディング）→ 確認・保存
```

**現状の問題点**:
- カード作成ページへの導線がデッキ詳細から1クリック必要（ダッシュボードから直接行けない）
- 例文生成中のローディング状態の視覚的フィードバックが確認できていない

---

## コアユーザー行動の仮説

### 継続学習の動機

1. **ストリーク（連続日数）**: 毎日のモチベーション維持に最も効果的
2. **due カード数**: 「今日やること」の明確化が継続につながる
3. **達成感**: 「今日の復習は完了です ✓」表示が重要

### 離脱ポイントの仮説

| ポイント | 離脱リスク | 対策状況 |
|---|---|---|
| 初回登録後に何をすればいいか分からない | 🔴 高 | 空状態に「最初のデッキを作る」ボタンあり |
| カード作成が面倒（例文を自分で書く必要がある） | 🔴 高 | ✅ Claude API で自動生成 |
| 復習が長時間かかる | 🟡 中 | 最大20枚/セッションで制限 |
| 復習するカードがない日が続く | 🟡 中 | 「次の復習まで X 時間」表示あり |
| アプリを開く習慣ができない | 🟡 中 | リマインダー未実装（❌） |

---

## 情報アーキテクチャ

### 現在のナビゲーション構造

```
/                  ランディング（未ログイン）or /dashboard リダイレクト
├── /auth          ログイン・登録
├── /dashboard     学習ホーム（メイン画面）
├── /decks         デッキ一覧
│   ├── /decks/new デッキ作成
│   └── /decks/[id] デッキ詳細
│       ├── /decks/[id]/cards/new  カード作成
│       └── /decks/[id]/study      デッキ別復習
└── /study         全デッキ一括復習
```

### ナビゲーションの課題
- ヘッダーは「デッキ一覧」と「ログアウト」のみ。**「カード追加」へのショートカットがない**
- `/study` へのリンクはダッシュボードの CTA のみ（直接 URL 打たないと行けない）

---

## アクセシビリティ方針

### WCAG 2.1 AA 準拠方針

| 項目 | 対応状況 |
|---|---|
| コントラスト比（通常テキスト 4.5:1以上） | ✅ デザイントークンで管理（`text-gray-500` 禁止） |
| コントラスト比（大テキスト 3:1以上） | ✅ |
| キーボードナビゲーション | 🟡 未検証（Tabインデックス等） |
| スクリーンリーダー | 🟡 絵文字禁止・Lucide 使用で改善済みだが aria-label 未検証 |
| フォーカスインジケーター | 🟡 Tailwind デフォルト（outline）のみ |
| タップターゲット（44px以上） | 🟡 主要ボタンは対応だが全体未検証 |

---

## モバイル体験

### 現状
- Tailwind のレスポンシブクラスで実装（`sm:`, `lg:` ブレークポイント）
- 復習画面（StudyClient）: タップでカード反転、評価ボタンは十分な高さを確保

### 改善余地
- フラッシュカードのスワイプジェスチャー対応（現状タップのみ）
- 穴埋めモードでスマホキーボード表示時のレイアウト崩れ確認が必要

---

## 競合分析

| アプリ | 強み | 弱み | NeoVocab との差別化 |
|---|---|---|---|
| Anki | 圧倒的な実績・カスタマイズ性 | UI が古い・初心者に難しい | AI 例文生成でカード作成が簡単 |
| Duolingo | ゲーミフィケーション・継続率高い | 自分の単語を学べない | 任意の単語を登録できる |
| Quizlet | 豊富な共有デッキ | SM-2 なし・広告多い | SM-2 による科学的な間隔反復 |
| Memrise | ネイティブ音声 | 自分のデッキ作成が弱い | Claude AI による高品質な例文 |

---

## UX 改善ロードマップ（提案）

### Phase 1（現在〜1ヶ月）
- カード編集機能（Sprint 2 で対応予定）
- 初回 onboarding フロー改善（空状態の UX）

### Phase 2（1〜3ヶ月）
- 学習分析ページ（正答率グラフ・ストリークカレンダー）
- リマインダー通知
- モバイルスワイプジェスチャー

### Phase 3（3ヶ月〜）
- ソーシャル機能（デッキ共有・ランキング）
- 音声入力でカード作成
- 画像カード対応

---

## ユーザーインタビュー・フィードバック記録

> ユーザーテストや実際のフィードバックがあったらここに追記する

*（未記録）*

---

## UX メトリクス（追跡候補）

| メトリクス | 計測方法 | 目標値 |
|---|---|---|
| D1 リテンション | 翌日のログイン率 | 40%+ |
| D7 リテンション | 7日後のログイン率 | 20%+ |
| 平均ストリーク | study_logs から計算 | 7日+ |
| カード作成→初回復習率 | デッキ作成後24時間以内の study_logs | 60%+ |
| セッション完了率 | 復習開始→全カード完了 | 70%+ |
